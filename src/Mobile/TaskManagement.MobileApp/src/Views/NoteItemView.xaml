<?xml version="1.0" encoding="utf-8" ?>
<ContentView x:Class="TaskManagement.MobileApp.Views.NoteItemView"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:vm="clr-namespace:TaskManagement.MobileApp.ViewModels"
             xmlns:viewModels="clr-namespace:TaskManagement.MobileApp.ViewModels"
             x:DataType="viewModels:NoteItemViewModel">

    <Frame BackgroundColor="White"
           HasShadow="True"
           Padding="16"
           Margin="8,4"
           CornerRadius="8"
           BorderColor="LightGray">
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!-- Note Icon -->
            <Frame Grid.Row="0" 
                   Grid.Column="0"
                   Grid.RowSpan="2"
                   BackgroundColor="#F5F5F5"
                   WidthRequest="40"
                   HeightRequest="40"
                   CornerRadius="20"
                   HasShadow="False"
                   Padding="0"
                   VerticalOptions="Start"
                   Margin="0,0,12,0">
                <Label Text="📝"
                       FontSize="20"
                       HorizontalOptions="Center"
                       VerticalOptions="Center" />
            </Frame>

            <!-- Note Content -->
            <StackLayout Grid.Row="0"
                         Grid.Column="1"
                         Grid.RowSpan="2"
                         Spacing="4"
                         VerticalOptions="Center">
                
                <Label Text="Ik:"
                       TextColor="Gray"
                       FontSize="12"
                       FontAttributes="Bold" />
                
                <Label Text="{Binding Content}"
                       TextColor="Black"
                       FontSize="14"
                       LineBreakMode="WordWrap" />
                
                <Label Text="{Binding CreatedAt, StringFormat='{0:dd/MM/yyyy HH:mm}'}"
                       TextColor="Gray"
                       FontSize="10" />
            </StackLayout>

            <!-- Delete Button -->
            <!-- <ImageButton Grid.Row="0" -->
            <!--              Grid.Column="2" -->
            <!--              Source="delete_icon.png" -->
            <!--              BackgroundColor="Transparent" -->
            <!--              WidthRequest="24" -->
            <!--              HeightRequest="24" -->
            <!--              VerticalOptions="Start" -->
            <!--              Command="{Binding Source={RelativeSource AncestorType={x:Type viewModels:TaskDetailsViewModel}}, Path=DeleteNoteCommand}" -->
            <!--              CommandParameter="{Binding .}" -->
            <!--              IsVisible="{Binding CanDelete}"> -->
            <!--      -->
            <!--     ~1~ Fallback for delete icon @1@ -->
            <!--     <ImageButton.Triggers> -->
            <!--         <DataTrigger TargetType="ImageButton"  -->
            <!--                      Binding="{Binding Source}"  -->
            <!--                      Value="{x:Null}"> -->
            <!--             <Setter Property="Text" Value="🗑️" /> -->
            <!--         </DataTrigger> -->
            <!--     </ImageButton.Triggers> -->
            <!-- </ImageButton> -->

        </Grid>
    </Frame>
</ContentView>